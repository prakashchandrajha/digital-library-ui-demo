<div class="bg-white rounded-xl shadow overflow-hidden">
  <div class="p-4 border-b font-bold text-pink-600 bg-pink-50 flex justify-between items-center">
    <span>Category List</span>
    <button (click)="openModal()" class="bg-pink-500 text-white px-3 py-1 rounded hover:bg-pink-600">
      + Add Category
    </button>
  </div>

  <table class="w-full text-left border-collapse">
    <thead class="bg-orange-100">
      <tr>
        <th class="p-4 text-orange-900">Category Name</th>
        <th class="p-4 text-orange-900">Action</th>
      </tr>
    </thead>
    <tbody class="divide-y">
  @if (categories.length > 0) {
    @for (category of categories; track category.id) {
      <tr class="hover:bg-pink-50 transition">
        <td class="p-4 font-medium">{{ category.name }}</td>
      
     <td class="p-4 flex gap-2">
  <!-- Update Button -->
  <button 
    (click)="updateCategory(category)"
    class="flex items-center gap-2 bg-blue-500 text-white px-3 py-2 rounded-full shadow-sm hover:bg-blue-600 hover:shadow-lg transition-all duration-200"
  >
    <i class="fa fa-pencil-alt text-sm"></i>
    <span class="text-sm font-medium">Update</span>
  </button>

  <!-- Delete Button -->
  <button 
    (click)="deleteCategory(category.id)"
    class="flex items-center gap-2 bg-red-500 text-white px-3 py-2 rounded-full shadow-sm hover:bg-red-600 hover:shadow-lg transition-all duration-200"
  >
    <i class="fa fa-trash-alt text-sm"></i>
    <span class="text-sm font-medium">Delete</span>
  </button>
</td>

      </tr>
    }
  } @else {
    <tr>
      <td colspan="3" class="p-4 text-center text-gray-500">No categories found.</td>
    </tr>
  }
</tbody>
  </table>
</div>

<!-- Modal -->
@if (isModalOpen) {
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-96">
      <h2 class="text-lg font-bold mb-4">Add / Update Category</h2>
      <form [formGroup]="categoryForm" (ngSubmit)="saveCategory()">
        <input formControlName="name" type="text" placeholder="Category Name"
               class="border p-2 w-full rounded mb-3">
        <input type="file" (change)="onFileSelected($event)" class="mb-3 w-full">
        <div class="flex justify-end gap-2">
          <button type="button" (click)="closeModal()" class="px-3 py-1 bg-gray-300 rounded">Cancel</button>
          <button type="submit" class="px-3 py-1 bg-pink-500 text-white rounded hover:bg-pink-600">Save</button>
        </div>
      </form>
    </div>
  </div>
}
